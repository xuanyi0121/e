# yamlé”šç‚¹(ä¸æ‡‚è‡ªè¡ŒGoogle)å‹¿åŠ¨
proxy-provider-http: &http
  type: http
  interval: 3600
  health-check:
    enable: false
    url: https://1.1.1.1/generate_204
    interval: 7200

proxy-provider-file: &file
  type: file
  health-check:
    enable: false
    url: https://1.1.1.1/generate_204
    interval: 7200

# Clashé…ç½®
mixed-port: 7890
allow-lan: false
mode: rule
log-level: info
ipv6: false

external-controller: 127.0.0.1:9090
# æ§åˆ¶é¢æ¿ç›¸å¯¹è·¯å¾„
# external-ui: folder

dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:1053
  default-nameserver:
   - 223.5.5.5
   - 119.29.29.29
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver: 
    - 'https://doh.pub/dns-query'
    - 'https://223.5.5.5/dns-query'
  fallback:
    - 'https://doh.dns.sb/dns-query'
    - 'https://1.1.1.1/dns-query'
    - 'tls://8.8.4.4:853'
  fallback-filter:
    geoip: true
    geoip-code: CN

# å¦‚æœæœ‰èŠ‚ç‚¹å¯æŒ‰æ–‡æ¡£å¡«å†™ï¼Œå¹¶åœ¨groupå†…ä½¿ç”¨
proxies:
  # - name: "ss1"
  #   type: ss
  #   server: server
  #   port: 443
  #   cipher: chacha20-ietf-poly1305
  #   password: "password"
  #   # udp: true


proxy-groups:
  - name: Proxy
    type: select
    # proxieså¼•ç”¨åˆ«çš„ç»„æˆ–è€…é…ç½®åœ¨æ–‡ä»¶å†…proxiesçš„èŠ‚ç‚¹
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº
      # å¦‚æœ‰é…ç½®proxieséƒ¨åˆ†å¯æŒ‰å¦‚ä¸‹æ ¼å¼ä½¿ç”¨é…ç½®æ–‡ä»¶å†…è‡ªå®šä¹‰çš„èŠ‚ç‚¹(éè®¢é˜…èŠ‚ç‚¹)
      # - ss1

  - name: æ‰‹åŠ¨åˆ‡æ¢
    type: select
    use:
      - Sub1
      # å½“proxy-provideré…ç½®å¤šä¸ªè®¢é˜…æ—¶ï¼Œä½¿ç”¨useä¸‹æ–¹æ ¼å¼å¼•ç”¨ï¼Œè¿™é‡Œä¸ºåªæœ‰ä¸€ä¸ªè®¢é˜…çš„æƒ…å†µ
      - Sub2
      # - Sub3
    # filterä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å»ç­›é€‰èŠ‚ç‚¹
    # filter: "HK|Hong|é¦™æ¸¯|æ¸¯|æ€¥é€Ÿ"

  - name: Telegram
    type: select
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº

  - name: Emby
    type: select
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº
      - DIRECT

  - name: TikTok
    type: select
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº

  - name: Shopify
    type: select
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº
      - DIRECT

  - name: Instagram
    type: select
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº

  - name: Twitter
    type: select
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº

  - name: Facebook
    type: select
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº

  - name: YouTube
    type: select
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº

  - name: NETFLIX
    type: select
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº

  - name: Disney+
    type: select
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº

  - name: å“”å“©å“”å“©
    type: select
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº
      - DIRECT

  - name: OpenAI
    type: select
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº
    
  - name: å¾®è½¯æœåŠ¡
    type: select
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº
      - DIRECT

  - name: è‹¹æœæœåŠ¡
    type: select
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº
      - DIRECT

  - name: è°·æ­ŒæœåŠ¡
    type: select
    proxies:
      - æ‰‹åŠ¨åˆ‡æ¢
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - å…¶ä»–åœ°åŒº
      
  - name: AdBlock
    type: select
    proxies:
      - DIRECT
      - REJECT

  - name: é¦™æ¸¯èŠ‚ç‚¹
    type: select
    use:
      - Sub1
      # å½“proxy-provideré…ç½®å¤šä¸ªè®¢é˜…æ—¶ï¼Œä½¿ç”¨useä¸‹æ–¹æ ¼å¼å¼•ç”¨ï¼Œè¿™é‡Œä¸ºåªæœ‰ä¸€ä¸ªè®¢é˜…çš„æƒ…å†µ
      - Sub2
      # - Sub3
    # filterä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å»ç­›é€‰èŠ‚ç‚¹
    filter: "ğŸ‡­ğŸ‡°|HK|Hong|é¦™æ¸¯|æ¸¯|æ€¥é€Ÿ"

  - name: å°æ¹¾èŠ‚ç‚¹
    type: select
    use:
      - Sub1
      # å½“proxy-provideré…ç½®å¤šä¸ªè®¢é˜…æ—¶ï¼Œä½¿ç”¨useä¸‹æ–¹æ ¼å¼å¼•ç”¨ï¼Œè¿™é‡Œä¸ºåªæœ‰ä¸€ä¸ªè®¢é˜…çš„æƒ…å†µ
      - Sub2
      # - Sub3
    # filterä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å»ç­›é€‰èŠ‚ç‚¹
    filter: "ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|tw|TW|å°æ¹¾|å°|Taiwan"

  - name: ç‹®åŸèŠ‚ç‚¹
    type: select
    use:
      - Sub1
      - Sub2
      # - Sub3
    filter: "ğŸ‡¸ğŸ‡¬|SG|Singapore|ç‹®åŸ|æ–°åŠ å¡"

  - name: æ—¥æœ¬èŠ‚ç‚¹
    type: select
    use:
      - Sub1
      - Sub2
      # - Sub3
    filter: "ğŸ‡¯ğŸ‡µ|JP|japan|æ—¥æœ¬"

  - name: ç¾å›½èŠ‚ç‚¹
    type: select
    use:
      - Sub1
      - Sub2
      # - Sub3
    filter: "ğŸ‡ºğŸ‡¸|US|United|ç¾|ç¾å›½"
  
  - name: å…¶ä»–åœ°åŒº
    type: select
    use:
      - Sub1
      - Sub2
      # - Sub3
    # ç­›é€‰é™¤æ—¥ç¾æ–°æ¸¯å¤–çš„èŠ‚ç‚¹ï¼Œå¯è‡ªè¡ŒæŒ‰æ ¼å¼æ·»åŠ 
    filter: "^(?!.*(?:Hong|HK|TW|Taiwan|USA|Japan|Singapore|SG|USA|ğŸ‡­ğŸ‡°|ğŸ‡¯ğŸ‡µ|ğŸ‡¸ğŸ‡¬|ğŸ‡¹ğŸ‡¼|ğŸ‡¨ğŸ‡³|ğŸ‡ºğŸ‡¸|é¦™æ¸¯|æ—¥æœ¬|æ–°åŠ å¡|ç‹®åŸ|å°æ¹¾|ç¾å›½)).*"


# proxy-provider å¯å‚è€ƒmetaå†…æ ¸æ–‡æ¡£ https://clash-meta.wiki/config/proxy-providers
proxy-providers:
  # åœ¨çº¿è®¢é˜…,æœ‰å¤šä¸ªæœºåœºæŒ‰æ ¼å¼ä¹¦å†™åœ¨ä¸‹é¢
  Sub1:
    <<: *http
    path: ./proxies/Sub1.yaml
    url: https://6993300.eu.org/api/v1/client/subscribe?token=26671733edc29949112b93a5a7717592
  Sub2:
    <<: *http
    path: ./proxies/Sub2.yaml
    url: https://v2.esycloud.link/api/v1/client/subscribe?token=aa78779e96ed2f0b9815ed0f44b99a0c
  #
  # æœ¬åœ°èŠ‚ç‚¹ï¼Œè·¯å¾„å¯å¡«å†™ç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹è·¯å¾„(ä¸ºclashå·¥ä½œç›®å½•ä¸‹)
  # Sub3:
  #   <<: *file
  #   path: ./proxies/Sub3.yaml

# å¯å‚è€ƒmetaæ ¸æ–‡æ¡£ https://clash-meta.wiki/config/rules/rule-provider
rule-providers:
  Adblock-Domain:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdvertisingLite/AdvertisingLite_Domain.yaml"
    path: ./ruleset/AdDomain.yaml
    interval: 86400

  Emby:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Emby/Emby.yaml"
    path: ./ruleset/Emby.yaml
    interval: 86400

  Shopify:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Shopify/Shopify.yaml"
    path: ./ruleset/Shopify.yaml
    interval: 86400

  TikTok:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok.yaml"
    path: ./ruleset/TikTok.yaml
    interval: 86400

  Telegram:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml"
    path: ./ruleset/Telegram.yaml
    interval: 86400

  Twitter:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Twitter/Twitter.yaml"
    path: ./ruleset/Twitter.yaml
    interval: 86400

  Instagram:
    type: http
    behavior: classical
    url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Instagram/Instagram.yaml"
    path: ./ruleset/Instagram.yaml
    interval: 86400

  Facebook:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Facebook/Facebook.yaml"
    path: ./ruleset/Facebook.yaml
    interval: 86400

  YouTube:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml"
    path: ./ruleset/YouTube.yaml
    interval: 86400

  Netflix:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml"
    path: ./ruleset/Netflix.yaml
    interval: 86400

  Disney:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Disney/Disney.yaml"
    path: ./ruleset/Disney.yaml
    interval: 86400

  BiliBili:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml"
    path: ./ruleset/BiliBili.yaml
    interval: 86400

  OpenAI:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml"
    path: ./ruleset/OpenAI.yaml
    interval: 86400

  Apple:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/DivineEngine/Profiles/master/Clash/RuleSet/Extra/Apple/Apple.yaml"
    path: ./ruleset/Apple.yaml
    interval: 86400

  Microsoft:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml"
    path: ./ruleset/Microsoft.yaml
    interval: 86400
  
  Google:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml"
    path: ./ruleset/Google.yaml
    interval: 86400

  China:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/China/China.yaml"
    path: ./ruleset/China.yaml
    interval: 86400

  Global:
    type: http
    behavior: domain
    url: "https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/proxy.txt"
    path: ./ruleset/proxy.yaml
    interval: 86400

  Lan:
    type: http
    behavior: classical
    url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.yaml"
    path: ./ruleset/Lan.yaml
    interval: 86400

# è§„åˆ™éƒ¨åˆ†å»ºè®®åŸŸåè§„åˆ™åœ¨å‰ï¼Œipè§„åˆ™åœ¨å
# ipè§„åˆ™å°½é‡ä½¿ç”¨no-resolveï¼Œå‡å°‘éœ€è¦èµ°ä»£ç†çš„åŸŸååœ¨æœ¬åœ°è§£æçš„æƒ…å†µ
rules:
  - RULE-SET,Adblock-Domain,AdBlock
  - RULE-SET,Emby,Emby
  - RULE-SET,Telegram,Telegram
  - RULE-SET,Twitter,Twitter
  - RULE-SET,Instagram,Instagram
  - RULE-SET,Facebook,Facebook
  - RULE-SET,TikTok,TikTok
  - RULE-SET,Shopify,Shopify
  - RULE-SET,YouTube,YouTube
  - RULE-SET,Netflix,NETFLIX
  - RULE-SET,Disney,Disney+
  - RULE-SET,OpenAI,OpenAI
  - RULE-SET,Apple,è‹¹æœæœåŠ¡
  - RULE-SET,Microsoft,å¾®è½¯æœåŠ¡
  - RULE-SET,Google,è°·æ­ŒæœåŠ¡
  - RULE-SET,BiliBili,å“”å“©å“”å“©
  - RULE-SET,Global,Proxy
  - RULE-SET,China,DIRECT
  - RULE-SET,Lan,DIRECT
  - MATCH,Proxy
